!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("motion-dom"),require("motion-utils")):"function"==typeof define&&define.amd?define(["exports","motion-dom","motion-utils"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).MotionPlus={},t.MotionDom,t.MotionUtils)}(this,function(t,e,n){"use strict";function o(t,e){const n=document.createElement("span");return t&&(n.className=t),void 0!==e&&(n.dataset.index=e.toString()),n.style.display="inline-block",n}function s(t,e,n,s){const i=o(n,s);return i.textContent=e,t.appendChild(i),i}function i(t,e){return t.length>e.length||t.length>0&&!e.startsWith(t)}function l(t,e,n){return t+(e-t)*n}const r=new Set([".",",","!","?",":",";","'",'"',"-","(",")"]),c=new Set(["!","@","#","$","%","^","&","*","(",")","_","+","{","}","|",":",'"',"<",">","?"]);function u(t,e){let n=e-1;for(;n>=0&&/\s/.test(t[n]);)n--;for(;n>=0&&!/\s/.test(t[n]);)n--;return Math.max(0,n+1)}t.findPreviousWordIndex=u,t.getNextText=function(t,e,n,o){if("type"===n&&i(t,e)){if("all"===o)return e.slice(0,function(t,e){const n=Math.min(t.length,e.length);let o=0;for(let s=0;s<n&&t[s]===e[s];s++)o=s+1;return o}(t,e));if("word"===o){const e=u(t,t.length);return t.slice(0,e)}return t.slice(0,-1)}return e.slice(0,t.length+1)},t.getTypewriterDelay=function(t,e,n,o,s){if(i(e,t))return n*s;if("natural"===o)return function(t,e,n){const o=e.length,s=t[o],i=t[o-1];if(!s)return n;const u=t.slice(0,o),a=u.lastIndexOf(" "),f=o-a-1,h=a+1,d=t.slice(o),p=d.indexOf(" "),m=-1===p?t.length:o+p,g=m-h;let x=1;i&&/[.!?]/.test(i)&&" "===s&&(x*=3);g<=3?x*=.7:(0===f&&" "!==s&&(x*=1.5),f===g-1&&(x*=1.4));if(f>0&&f<g-1&&g>3){x*=1-Math.min(f/g,.4)}r.has(s)&&(x*=1.5);c.has(s)&&(x*=1.5);/\d/.test(s)&&(x*=1.3);g>8&&(x*=1.3);s!==s.toLowerCase()&&(x*=1.25);const y=200;if(o>y){x*=1+Math.min((o-y)/1e3,.3)}const C=l(-.25,.25,Math.random());x*=1+C;const M=n*x;return Math.max(.2*n,M)}(t,e,n);if("number"==typeof o&&o>0){const t=n*(o/100);return n+l(-t,t,Math.random())}return n},t.splitText=function(t,{splitBy:i=" ",charClass:l="split-char",wordClass:r="split-word",lineClass:c="split-line"}={}){const[u]=e.resolveElements(t);n.invariant(Boolean(u),"Element not found");const a=u.textContent||"";u.setAttribute("aria-label",a),u.textContent="";const f={chars:[],words:[],lines:[]},h=a.split(i),d=[],p=[];for(let t=0;t<h.length;t++){const e=h[t],n=o(r,t);f.words.push(n),d.push(n);const c=Array.from(e);for(let t=0;t<c.length;t++){const e=s(n,c[t],l,t);f.chars.push(e)}if(u.appendChild(n),t<h.length-1)if(" "===i){const t=document.createTextNode(" ");u.appendChild(t),p.push(t)}else{const t=s(n,i,`${l}-delimiter`);f.chars.push(t)}}const m=d.map((t,e)=>({element:t,top:t.offsetTop,index:e,spacer:e<p.length?p[e]:null})),g=[];let x=[],y=m[0]?.top??0,C=0;for(let t=0;t<m.length;t++){const{element:e,top:n,spacer:o}=m[t];n>y&&x.length>0&&(g.push({elements:x,lineIndex:C++}),x=[],y=n),x.push(e),o&&x.push(o)}x.length>0&&g.push({elements:x,lineIndex:C}),u.textContent="";for(const{elements:t,lineIndex:e}of g){const n=o(c,e);n.style.display="inline-block",f.lines.push(n);for(const e of t)n.appendChild(e);u.appendChild(n)}return f}});
