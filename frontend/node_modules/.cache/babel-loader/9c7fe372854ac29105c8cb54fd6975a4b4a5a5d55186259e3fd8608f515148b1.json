{"ast":null,"code":"var _jsxFileName = \"/Users/anikaviswanathan/College/jiveMediaPipe/frontend/src/components/AIChatCoach.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useChatInput, useMessages, useCedarState, CedarCopilot } from 'cedar-os';\nimport { aiCoachingActions, poseActions } from '../store/cedarStore';\nimport './AIChatCoach.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIChatCoach = ({\n  currentPose,\n  similarity,\n  score,\n  gameActive\n}) => {\n  _s();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [userInput, setUserInput] = useState('');\n  const messagesEndRef = useRef(null);\n\n  // CedarOS hooks for chat functionality\n  const {\n    sendMessage,\n    isTyping\n  } = useChatInput({\n    onMessage: handleAIResponse,\n    systemPrompt: `You are an AI dance coach for a pose-matching game. \n    Analyze user poses, provide constructive feedback, and give encouraging tips. \n    Keep responses concise and actionable. Focus on specific body parts that need improvement.\n    Be motivational and positive while being technically helpful.`\n  });\n  const messages = useMessages();\n\n  // Cedar state for AI coaching\n  const [aiState, dispatch] = useCedarState('aiCoaching', {\n    messages: [],\n    isTyping: false,\n    currentTip: null,\n    improvementSuggestions: [],\n    performanceAnalysis: null,\n    chatHistory: []\n  });\n  const [poseState, poseDispatch] = useCedarState('poseState');\n\n  // AI analysis of pose performance\n  useEffect(() => {\n    if (currentPose && similarity !== null && gameActive) {\n      analyzePosePerformance();\n    }\n  }, [currentPose, similarity, score, gameActive]);\n\n  // Auto-scroll to bottom of messages\n  useEffect(() => {\n    scrollToBottom();\n  }, [aiState.chatHistory, messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const analyzePosePerformance = () => {\n    // Generate AI coaching based on similarity score\n    let tip = null;\n    let suggestionType = 'info';\n    if (similarity >= 90) {\n      tip = \"🎯 Excellent form! You're nailing this pose!\";\n      suggestionType = 'success';\n    } else if (similarity >= 75) {\n      tip = \"👍 Great job! Minor adjustments will perfect this pose.\";\n      suggestionType = 'success';\n    } else if (similarity >= 60) {\n      tip = \"💪 Good effort! Focus on matching the reference pose more closely.\";\n      suggestionType = 'tip';\n    } else if (similarity >= 40) {\n      tip = \"📐 Check your arm and leg positioning - they need adjustment.\";\n      suggestionType = 'warning';\n    } else {\n      tip = \"🔄 Let's work on this pose - focus on the key body positions.\";\n      suggestionType = 'warning';\n    }\n\n    // Add contextual suggestions based on pose analysis\n    const suggestions = generateImprovementSuggestions(similarity, currentPose);\n    if (tip) {\n      dispatch(aiCoachingActions.addMessage({\n        content: tip,\n        type: suggestionType\n      }));\n      dispatch(aiCoachingActions.updateCurrentTip(tip));\n    }\n    if (suggestions.length > 0) {\n      suggestions.forEach(suggestion => {\n        dispatch(aiCoachingActions.addImprovementSuggestion(suggestion));\n      });\n    }\n  };\n  const generateImprovementSuggestions = (similarity, pose) => {\n    const suggestions = [];\n    if (similarity < 70) {\n      suggestions.push({\n        joint: 'arms',\n        suggestion: 'Focus on matching the arm positions more precisely',\n        priority: 'high'\n      });\n    }\n    if (similarity < 60) {\n      suggestions.push({\n        joint: 'legs',\n        suggestion: 'Adjust your leg stance to better match the reference',\n        priority: 'high'\n      });\n    }\n    if (similarity < 50) {\n      suggestions.push({\n        joint: 'torso',\n        suggestion: 'Work on your torso alignment and posture',\n        priority: 'medium'\n      });\n    }\n    return suggestions;\n  };\n  function handleAIResponse(response) {\n    dispatch(aiCoachingActions.addChatMessage({\n      message: response.content,\n      sender: 'ai'\n    }));\n    dispatch(aiCoachingActions.setTyping(false));\n  }\n  const handleUserMessage = async e => {\n    e.preventDefault();\n    if (!userInput.trim()) return;\n\n    // Add user message to chat\n    dispatch(aiCoachingActions.addChatMessage({\n      message: userInput,\n      sender: 'user'\n    }));\n\n    // Show typing indicator\n    dispatch(aiCoachingActions.setTyping(true));\n\n    // Send to AI with current context\n    const context = {\n      currentSimilarity: similarity,\n      currentScore: score,\n      isGameActive: gameActive,\n      recentSuggestions: aiState.improvementSuggestions.slice(-3)\n    };\n    await sendMessage(userInput, context);\n    setUserInput('');\n  };\n  const getPerformanceAnalysis = () => {\n    const avgSimilarity = poseState.poseHistory.length > 0 ? poseState.poseHistory.reduce((sum, pose) => sum + (pose.similarity || 0), 0) / poseState.poseHistory.length : 0;\n    return {\n      averageSimilarity: avgSimilarity,\n      totalFrames: poseState.frameCount,\n      improvementTrend: calculateImprovementTrend(),\n      strongPoints: identifyStrengths(),\n      areasToImprove: identifyWeaknesses()\n    };\n  };\n  const calculateImprovementTrend = () => {\n    const recent = poseState.poseHistory.slice(-10);\n    const older = poseState.poseHistory.slice(-20, -10);\n    if (recent.length === 0 || older.length === 0) return 'neutral';\n    const recentAvg = recent.reduce((sum, p) => sum + (p.similarity || 0), 0) / recent.length;\n    const olderAvg = older.reduce((sum, p) => sum + (p.similarity || 0), 0) / older.length;\n    if (recentAvg > olderAvg + 5) return 'improving';\n    if (recentAvg < olderAvg - 5) return 'declining';\n    return 'stable';\n  };\n  const identifyStrengths = () => {\n    // Mock analysis - in real implementation, this would analyze specific joints\n    return ['Arm positioning', 'Balance'];\n  };\n  const identifyWeaknesses = () => {\n    // Mock analysis - in real implementation, this would analyze specific joints\n    return ['Leg alignment', 'Posture'];\n  };\n  const toggleExpansion = () => {\n    setIsExpanded(!isExpanded);\n  };\n  const renderMessage = message => {\n    const isAI = message.sender === 'ai';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `message ${isAI ? 'ai-message' : 'user-message'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-avatar\",\n        children: isAI ? '🤖' : '👤'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-text\",\n          children: message.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-time\",\n          children: new Date(message.timestamp).toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, message.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `ai-chat-coach ${isExpanded ? 'expanded' : 'collapsed'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coach-header\",\n      onClick: toggleExpansion,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coach-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"coach-avatar\",\n          children: \"\\uD83E\\uDD16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"coach-name\",\n            children: \"AI Dance Coach\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"coach-status\",\n            children: gameActive ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"active-status\",\n              children: [\"\\uD83D\\uDCCA Analyzing Performance \\u2022 Score: \", score]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"idle-status\",\n              children: \"\\uD83D\\uDCAD Ready to help\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"expand-toggle\",\n        children: isExpanded ? '▼' : '▲'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), aiState.currentTip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-tip\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tip-content\",\n        children: aiState.currentTip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-expanded\",\n      children: [gameActive && poseState.frameCount > 10 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"performance-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCC8 Performance Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Avg Similarity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [Math.round(getPerformanceAnalysis().averageSimilarity), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Trend:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `stat-value trend-${getPerformanceAnalysis().improvementTrend}`,\n              children: getPerformanceAnalysis().improvementTrend\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }, this), aiState.improvementSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"improvement-suggestions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCA1 Improvement Tips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }, this), aiState.improvementSuggestions.slice(-3).map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `suggestion priority-${suggestion.priority}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [suggestion.joint, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 19\n          }, this), \" \", suggestion.suggestion]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: [aiState.chatHistory.map(renderMessage), aiState.isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-indicator\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message ai-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"typing-dots\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u25CF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u25CF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u25CF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUserMessage,\n        className: \"chat-input-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: userInput,\n          onChange: e => setUserInput(e.target.value),\n          placeholder: \"Ask for coaching tips...\",\n          className: \"chat-input\",\n          disabled: aiState.isTyping\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"send-button\",\n          disabled: !userInput.trim() || aiState.isTyping,\n          children: \"\\uD83D\\uDCE4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CedarCopilot, {\n      context: {\n        currentPose,\n        similarity,\n        score,\n        gameActive,\n        performanceAnalysis: getPerformanceAnalysis()\n      },\n      tools: [{\n        name: 'analyzePose',\n        description: 'Analyze current pose and provide feedback',\n        handler: analyzePosePerformance\n      }, {\n        name: 'getPerformanceStats',\n        description: 'Get detailed performance statistics',\n        handler: getPerformanceAnalysis\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n};\n_s(AIChatCoach, \"sJn9R95Z0bd9Lb3E09ZcmdkQIIE=\", false, function () {\n  return [useChatInput, useMessages, useCedarState, useCedarState];\n});\n_c = AIChatCoach;\nexport default AIChatCoach;\nvar _c;\n$RefreshReg$(_c, \"AIChatCoach\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useChatInput","useMessages","useCedarState","CedarCopilot","aiCoachingActions","poseActions","jsxDEV","_jsxDEV","AIChatCoach","currentPose","similarity","score","gameActive","_s","isExpanded","setIsExpanded","userInput","setUserInput","messagesEndRef","sendMessage","isTyping","onMessage","handleAIResponse","systemPrompt","messages","aiState","dispatch","currentTip","improvementSuggestions","performanceAnalysis","chatHistory","poseState","poseDispatch","analyzePosePerformance","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","tip","suggestionType","suggestions","generateImprovementSuggestions","addMessage","content","type","updateCurrentTip","length","forEach","suggestion","addImprovementSuggestion","pose","push","joint","priority","response","addChatMessage","message","sender","setTyping","handleUserMessage","e","preventDefault","trim","context","currentSimilarity","currentScore","isGameActive","recentSuggestions","slice","getPerformanceAnalysis","avgSimilarity","poseHistory","reduce","sum","averageSimilarity","totalFrames","frameCount","improvementTrend","calculateImprovementTrend","strongPoints","identifyStrengths","areasToImprove","identifyWeaknesses","recent","older","recentAvg","p","olderAvg","toggleExpansion","renderMessage","isAI","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Date","timestamp","toLocaleTimeString","id","onClick","Math","round","map","index","ref","onSubmit","value","onChange","target","placeholder","disabled","tools","name","description","handler","_c","$RefreshReg$"],"sources":["/Users/anikaviswanathan/College/jiveMediaPipe/frontend/src/components/AIChatCoach.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { \n  useChatInput, \n  useMessages, \n  useCedarState, \n  CedarCopilot \n} from 'cedar-os';\nimport { aiCoachingActions, poseActions } from '../store/cedarStore';\nimport './AIChatCoach.css';\n\nconst AIChatCoach = ({ currentPose, similarity, score, gameActive }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [userInput, setUserInput] = useState('');\n  const messagesEndRef = useRef(null);\n  \n  // CedarOS hooks for chat functionality\n  const { sendMessage, isTyping } = useChatInput({\n    onMessage: handleAIResponse,\n    systemPrompt: `You are an AI dance coach for a pose-matching game. \n    Analyze user poses, provide constructive feedback, and give encouraging tips. \n    Keep responses concise and actionable. Focus on specific body parts that need improvement.\n    Be motivational and positive while being technically helpful.`\n  });\n  \n  const messages = useMessages();\n  \n  // Cedar state for AI coaching\n  const [aiState, dispatch] = useCedarState('aiCoaching', {\n    messages: [],\n    isTyping: false,\n    currentTip: null,\n    improvementSuggestions: [],\n    performanceAnalysis: null,\n    chatHistory: []\n  });\n  \n  const [poseState, poseDispatch] = useCedarState('poseState');\n  \n  // AI analysis of pose performance\n  useEffect(() => {\n    if (currentPose && similarity !== null && gameActive) {\n      analyzePosePerformance();\n    }\n  }, [currentPose, similarity, score, gameActive]);\n  \n  // Auto-scroll to bottom of messages\n  useEffect(() => {\n    scrollToBottom();\n  }, [aiState.chatHistory, messages]);\n  \n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n  \n  const analyzePosePerformance = () => {\n    // Generate AI coaching based on similarity score\n    let tip = null;\n    let suggestionType = 'info';\n    \n    if (similarity >= 90) {\n      tip = \"🎯 Excellent form! You're nailing this pose!\";\n      suggestionType = 'success';\n    } else if (similarity >= 75) {\n      tip = \"👍 Great job! Minor adjustments will perfect this pose.\";\n      suggestionType = 'success';\n    } else if (similarity >= 60) {\n      tip = \"💪 Good effort! Focus on matching the reference pose more closely.\";\n      suggestionType = 'tip';\n    } else if (similarity >= 40) {\n      tip = \"📐 Check your arm and leg positioning - they need adjustment.\";\n      suggestionType = 'warning';\n    } else {\n      tip = \"🔄 Let's work on this pose - focus on the key body positions.\";\n      suggestionType = 'warning';\n    }\n    \n    // Add contextual suggestions based on pose analysis\n    const suggestions = generateImprovementSuggestions(similarity, currentPose);\n    \n    if (tip) {\n      dispatch(aiCoachingActions.addMessage({\n        content: tip,\n        type: suggestionType\n      }));\n      \n      dispatch(aiCoachingActions.updateCurrentTip(tip));\n    }\n    \n    if (suggestions.length > 0) {\n      suggestions.forEach(suggestion => {\n        dispatch(aiCoachingActions.addImprovementSuggestion(suggestion));\n      });\n    }\n  };\n  \n  const generateImprovementSuggestions = (similarity, pose) => {\n    const suggestions = [];\n    \n    if (similarity < 70) {\n      suggestions.push({\n        joint: 'arms',\n        suggestion: 'Focus on matching the arm positions more precisely',\n        priority: 'high'\n      });\n    }\n    \n    if (similarity < 60) {\n      suggestions.push({\n        joint: 'legs',\n        suggestion: 'Adjust your leg stance to better match the reference',\n        priority: 'high'\n      });\n    }\n    \n    if (similarity < 50) {\n      suggestions.push({\n        joint: 'torso',\n        suggestion: 'Work on your torso alignment and posture',\n        priority: 'medium'\n      });\n    }\n    \n    return suggestions;\n  };\n  \n  function handleAIResponse(response) {\n    dispatch(aiCoachingActions.addChatMessage({\n      message: response.content,\n      sender: 'ai'\n    }));\n    \n    dispatch(aiCoachingActions.setTyping(false));\n  }\n  \n  const handleUserMessage = async (e) => {\n    e.preventDefault();\n    if (!userInput.trim()) return;\n    \n    // Add user message to chat\n    dispatch(aiCoachingActions.addChatMessage({\n      message: userInput,\n      sender: 'user'\n    }));\n    \n    // Show typing indicator\n    dispatch(aiCoachingActions.setTyping(true));\n    \n    // Send to AI with current context\n    const context = {\n      currentSimilarity: similarity,\n      currentScore: score,\n      isGameActive: gameActive,\n      recentSuggestions: aiState.improvementSuggestions.slice(-3)\n    };\n    \n    await sendMessage(userInput, context);\n    setUserInput('');\n  };\n  \n  const getPerformanceAnalysis = () => {\n    const avgSimilarity = poseState.poseHistory.length > 0 \n      ? poseState.poseHistory.reduce((sum, pose) => sum + (pose.similarity || 0), 0) / poseState.poseHistory.length\n      : 0;\n    \n    return {\n      averageSimilarity: avgSimilarity,\n      totalFrames: poseState.frameCount,\n      improvementTrend: calculateImprovementTrend(),\n      strongPoints: identifyStrengths(),\n      areasToImprove: identifyWeaknesses()\n    };\n  };\n  \n  const calculateImprovementTrend = () => {\n    const recent = poseState.poseHistory.slice(-10);\n    const older = poseState.poseHistory.slice(-20, -10);\n    \n    if (recent.length === 0 || older.length === 0) return 'neutral';\n    \n    const recentAvg = recent.reduce((sum, p) => sum + (p.similarity || 0), 0) / recent.length;\n    const olderAvg = older.reduce((sum, p) => sum + (p.similarity || 0), 0) / older.length;\n    \n    if (recentAvg > olderAvg + 5) return 'improving';\n    if (recentAvg < olderAvg - 5) return 'declining';\n    return 'stable';\n  };\n  \n  const identifyStrengths = () => {\n    // Mock analysis - in real implementation, this would analyze specific joints\n    return ['Arm positioning', 'Balance'];\n  };\n  \n  const identifyWeaknesses = () => {\n    // Mock analysis - in real implementation, this would analyze specific joints\n    return ['Leg alignment', 'Posture'];\n  };\n  \n  const toggleExpansion = () => {\n    setIsExpanded(!isExpanded);\n  };\n  \n  const renderMessage = (message) => {\n    const isAI = message.sender === 'ai';\n    return (\n      <div \n        key={message.id} \n        className={`message ${isAI ? 'ai-message' : 'user-message'}`}\n      >\n        <div className=\"message-avatar\">\n          {isAI ? '🤖' : '👤'}\n        </div>\n        <div className=\"message-content\">\n          <div className=\"message-text\">{message.message}</div>\n          <div className=\"message-time\">\n            {new Date(message.timestamp).toLocaleTimeString()}\n          </div>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div className={`ai-chat-coach ${isExpanded ? 'expanded' : 'collapsed'}`}>\n      {/* Header */}\n      <div className=\"coach-header\" onClick={toggleExpansion}>\n        <div className=\"coach-info\">\n          <span className=\"coach-avatar\">🤖</span>\n          <div>\n            <div className=\"coach-name\">AI Dance Coach</div>\n            <div className=\"coach-status\">\n              {gameActive ? (\n                <span className=\"active-status\">\n                  📊 Analyzing Performance • Score: {score}\n                </span>\n              ) : (\n                <span className=\"idle-status\">💭 Ready to help</span>\n              )}\n            </div>\n          </div>\n        </div>\n        <button className=\"expand-toggle\">\n          {isExpanded ? '▼' : '▲'}\n        </button>\n      </div>\n      \n      {/* Real-time tips (always visible) */}\n      {aiState.currentTip && (\n        <div className=\"current-tip\">\n          <div className=\"tip-content\">\n            {aiState.currentTip}\n          </div>\n        </div>\n      )}\n      \n      {/* Expanded chat interface */}\n      {isExpanded && (\n        <div className=\"chat-expanded\">\n          {/* Performance Summary */}\n          {gameActive && poseState.frameCount > 10 && (\n            <div className=\"performance-summary\">\n              <h4>📈 Performance Summary</h4>\n              <div className=\"summary-stats\">\n                <div className=\"stat\">\n                  <span className=\"stat-label\">Avg Similarity:</span>\n                  <span className=\"stat-value\">\n                    {Math.round(getPerformanceAnalysis().averageSimilarity)}%\n                  </span>\n                </div>\n                <div className=\"stat\">\n                  <span className=\"stat-label\">Trend:</span>\n                  <span className={`stat-value trend-${getPerformanceAnalysis().improvementTrend}`}>\n                    {getPerformanceAnalysis().improvementTrend}\n                  </span>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          {/* Auto-generated suggestions */}\n          {aiState.improvementSuggestions.length > 0 && (\n            <div className=\"improvement-suggestions\">\n              <h4>💡 Improvement Tips</h4>\n              {aiState.improvementSuggestions.slice(-3).map((suggestion, index) => (\n                <div key={index} className={`suggestion priority-${suggestion.priority}`}>\n                  <strong>{suggestion.joint}:</strong> {suggestion.suggestion}\n                </div>\n              ))}\n            </div>\n          )}\n          \n          {/* Chat messages */}\n          <div className=\"chat-messages\">\n            {aiState.chatHistory.map(renderMessage)}\n            {aiState.isTyping && (\n              <div className=\"typing-indicator\">\n                <div className=\"message ai-message\">\n                  <div className=\"message-avatar\">🤖</div>\n                  <div className=\"message-content\">\n                    <div className=\"typing-dots\">\n                      <span>●</span><span>●</span><span>●</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n          \n          {/* Chat input */}\n          <form onSubmit={handleUserMessage} className=\"chat-input-form\">\n            <input\n              type=\"text\"\n              value={userInput}\n              onChange={(e) => setUserInput(e.target.value)}\n              placeholder=\"Ask for coaching tips...\"\n              className=\"chat-input\"\n              disabled={aiState.isTyping}\n            />\n            <button \n              type=\"submit\" \n              className=\"send-button\"\n              disabled={!userInput.trim() || aiState.isTyping}\n            >\n              📤\n            </button>\n          </form>\n        </div>\n      )}\n      \n      {/* CedarOS Copilot Integration */}\n      <CedarCopilot\n        context={{\n          currentPose,\n          similarity,\n          score,\n          gameActive,\n          performanceAnalysis: getPerformanceAnalysis()\n        }}\n        tools={[\n          {\n            name: 'analyzePose',\n            description: 'Analyze current pose and provide feedback',\n            handler: analyzePosePerformance\n          },\n          {\n            name: 'getPerformanceStats',\n            description: 'Get detailed performance statistics',\n            handler: getPerformanceAnalysis\n          }\n        ]}\n      />\n    </div>\n  );\n};\n\nexport default AIChatCoach;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}