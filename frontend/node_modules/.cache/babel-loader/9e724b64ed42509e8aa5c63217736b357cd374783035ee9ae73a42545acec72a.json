{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import ReferenceVideo from'./components/ReferenceVideo';import LiveDance from'./components/LiveDance';import RealtimeScorer from'./components/RealtimeScorer';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isGameStarted,setIsGameStarted]=useState(false);const[isPaused,setIsPaused]=useState(false);const[uploadedFile,setUploadedFile]=useState(null);const[isProcessing,setIsProcessing]=useState(false);const[gameStartCountdown,setGameStartCountdown]=useState(null);const[currentPoseData,setCurrentPoseData]=useState(null);// Handle pose detection from LiveDance component\nconst handlePoseDetected=useCallback(poseData=>{setCurrentPoseData(poseData);},[]);const handleFileUpload=event=>{const file=event.target.files[0];if(file){setUploadedFile(file);setIsProcessing(true);// Simulate processing\nsetTimeout(()=>{setIsProcessing(false);},2000);}};const startGame=()=>{console.log('ðŸŽ® Start game clicked, current countdown:',gameStartCountdown);if(gameStartCountdown===null){console.log('ðŸŽ® Starting countdown...');setGameStartCountdown(5);}};// Simple reset function - no countdown needed\nconst resetGame=()=>{console.log('ðŸ”„ Resetting game...');setIsGameStarted(false);setIsPaused(false);setGameStartCountdown(null);};// Countdown effect for game start\nuseEffect(()=>{if(gameStartCountdown>0){console.log(\"\\uD83C\\uDFAE Game countdown: \".concat(gameStartCountdown));const timer=setTimeout(()=>{setGameStartCountdown(gameStartCountdown-1);},1000);return()=>clearTimeout(timer);}else if(gameStartCountdown===0){console.log('ðŸŽ® Countdown finished - starting game!');// Show \"GO!\" for a moment before starting the game\nsetTimeout(()=>{setIsGameStarted(true);setIsPaused(false);setGameStartCountdown(null);},500);}},[gameStartCountdown]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-section\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title-icon\",children:\"\\uD83C\\uDFB5\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"app-title\",children:\"Just Dance Clone\"}),/*#__PURE__*/_jsx(\"span\",{className:\"title-icon\",children:\"\\uD83D\\uDC83\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"app-subtitle\",children:\"Upload a video and dance along with real-time pose detection!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"video/*\",onChange:handleFileUpload,id:\"video-upload\",style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"video-upload\",className:\"upload-button\",children:\"\\uD83D\\uDCC1 Upload Video\"}),uploadedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Selected: \",uploadedFile.name]}),isProcessing&&/*#__PURE__*/_jsx(\"p\",{children:\"Processing...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"start-button\",onClick:startGame,disabled:!uploadedFile||isProcessing||gameStartCountdown!==null,children:gameStartCountdown!==null?\"\\uD83C\\uDFAE Starting in \".concat(gameStartCountdown,\"...\"):'â–º Start Game'}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-button\",onClick:resetGame,children:\"\\uD83D\\uDD04 Reset\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"dance-area\",children:[gameStartCountdown!==null&&/*#__PURE__*/_jsx(\"div\",{className:\"game-countdown-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"countdown-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"countdown-number \".concat(gameStartCountdown===0?'go-message':''),children:gameStartCountdown>0?gameStartCountdown:'GO!'}),/*#__PURE__*/_jsx(\"div\",{className:\"countdown-text\",children:gameStartCountdown>0?'Get Ready to Dance!':'Start Dancing!'})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-panels\",children:[/*#__PURE__*/_jsx(ReferenceVideo,{isGameStarted:isGameStarted,isPaused:isPaused}),/*#__PURE__*/_jsx(LiveDance,{isGameStarted:isGameStarted,isPaused:isPaused,onPoseDetected:handlePoseDetected})]}),isGameStarted&&/*#__PURE__*/_jsx(RealtimeScorer,{isGameStarted:isGameStarted,poseData:currentPoseData})]})]});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}